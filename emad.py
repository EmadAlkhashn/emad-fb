import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24zCiMgLSotIGNvZGluZzogdXRmLTggLSotCiNOR0FQQUlOIExJQVQgS0VTSU5JIE5HQUI/CiNNQVUgUkVDT0RFIElaSU4gRFVMVSBMQUgKI0JFUkkgU1RBUitGT0xMT1cgSlVHQQojU0MgR1JBVElTIE5JSAppbXBvcnQgcmVxdWVzdHMsYnM0LGpzb24sb3Msc3lzLHJhbmRvbSxkYXRldGltZSx0aW1lLHJlCmltcG9ydCB1cmxsaWIzCnRyeToKCWltcG9ydCByaWNoCmV4Y2VwdCBJbXBvcnRFcnJvcjoKCW9zLnN5c3RlbSgncGlwIGluc3RhbGwgcmljaCcpCgl0aW1lLnNsZWVwKDEpCgl0cnk6CgkJaW1wb3J0IHJpY2gKCWV4Y2VwdCBJbXBvcnRFcnJvcjoKCQlleGl0KCdDYW5ub3QgSW5zdGFsbCBSaWNoIE1vZHVsZSwgVHJ5IE1hbnVhbCBJbnN0YWxsIChwaXAgaW5zdGFsbCByaWNoKScpCmZyb20gcmljaC50YWJsZSBpbXBvcnQgVGFibGUgYXMgbWUKZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IENvbnNvbGUgYXMgc29sCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHNvcApmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHRncmVlbgpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgR3JvdXAgYXMgZ3AKZnJvbSByaWNoLnBhbmVsIGltcG9ydCBQYW5lbCBhcyBuZWwKaW1wb3J0IGJhc2U2NApmcm9tIHJpY2ggaW1wb3J0IHByaW50IGFzIGNldGFrCmZyb20gcmljaC5tYXJrZG93biBpbXBvcnQgTWFya2Rvd24gYXMgbWFyawpmcm9tIHJpY2guY29sdW1ucyBpbXBvcnQgQ29sdW1ucyBhcyBjb2wKZnJvbSByaWNoIGltcG9ydCBwcmV0dHkKZnJvbSByaWNoLnRleHQgaW1wb3J0IFRleHQgYXMgdGVregpwcmV0dHkuaW5zdGFsbCgpCkNPTj1zb2woKQojIFVBIExJU1QKdWdlbjI9W10KdWdlbj1bXQpjb2ticnV0PVtdCnNlcz1yZXF1ZXN0cy5TZXNzaW9uKCkKcHJpbmNwPVtdCgp0cnk6Cglwcm94PSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLnByb3h5c2NyYXBlLmNvbS92Mi8/cmVxdWVzdD1kaXNwbGF5cHJveGllcyZwcm90b2NvbD1zb2NrczQmdGltZW91dD0xMDAwMDAmY291bnRyeT1hbGwmc3NsPWFsbCZhbm9ueW1pdHk9YWxsJykudGV4dAoJb3BlbignLnByb3gudHh0JywndycpLndyaXRlKHByb3gpCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToKCXByaW50KCdHQUdBTCcpCnByb3g9b3BlbignLnByb3gudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKI29zLnN5c3RlbSgncm0gLXJmIC5wcm94LnR4dCcpCgpmb3IgeGQgaW4gcmFuZ2UoMTAwMDApOgoJYT0nTW96aWxsYS81LjAgKFN5bWJpYW4vMzsgU2VyaWVzNjAvJwoJYj1yYW5kb20ucmFuZHJhbmdlKDEsIDkpCgljPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKCWQ9J05va2lhJwoJZT1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkKCWY9Jy8xMTAuMDIxLjAwMjg7IFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSApIEFwcGxlV2ViS2l0LzUzNS4xIChLSFRNTCwgbGlrZSBHZWNrbykgTm9raWFCcm93c2VyLycKCWc9cmFuZG9tLnJhbmRyYW5nZSgxLCA5KQoJaD1yYW5kb20ucmFuZHJhbmdlKDEsIDQpCglpPXJhbmRvbS5yYW5kcmFuZ2UoMSwgNCkKCWo9cmFuZG9tLnJhbmRyYW5nZSgxLCA0KQoJaz0nTW9iaWxlIFNhZmFyaS81MzUuMScKCXVha3U9KGYne2F9e2J9LntjfSB7ZH17ZX17Zn17Z30ue2h9LntpfS57an0ge2t9JykKCXVnZW4yLmFwcGVuZCh1YWt1KQoKCglhYT0nTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkJwoJYj1yYW5kb20uY2hvaWNlKFsnNicsJzcnLCc4JywnOScsJzEwJywnMTEnLCcxMiddKQoJYz0nIGVuLXVzOyBHVC0nCglkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQoJZT1yYW5kb20ucmFuZHJhbmdlKDEsIDk5OSkKCWY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCglnPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvJwoJaD1yYW5kb20ucmFuZHJhbmdlKDczLDEwMCkKCWk9JzAnCglqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQoJaz1yYW5kb20ucmFuZHJhbmdlKDQwLDE1MCkKCWw9J01vYmlsZSBTYWZhcmkvNTM3LjM2JwoJdWFrdTI9Zid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9JwoJdWdlbi5hcHBlbmQodWFrdTIpCgpmb3IgeCBpbiByYW5nZSgxMCk6CglhPSdNb3ppbGxhLzUuMCAoU0FNU1VORzsgU0FNU1VORy1HVC1TJwoJYj1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkKCWM9cmFuZG9tLnJhbmRyYW5nZSgxMDAsIDk5OTkpCglkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQoJZT1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKCWY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCglnPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQoJaD1yYW5kb20ucmFuZHJhbmdlKDEsIDkpCglpPSc7IFU7IEJhZGEvMS4yOyBlbi11cykgQXBwbGVXZWJLaXQvNTMzLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBEb2xmaW4vJwoJaj1yYW5kb20ucmFuZHJhbmdlKDEsIDkpCglrPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKCWw9J01vYmlsZSBXVkdBIFNNTS1NTVMvMS4yLjAgT1BOLUInCgl1YWs9Zid7YX17Yn0ve2N9e2R9e2V9e2Z9e2d9e2h9e2l9e2p9LntrfSB7bH0nCiMJdWdlbi5hcHBlbmQodWFrKQoKZGVmIHVha3UoKToKCXRyeToKCQl1YT1vcGVuKCdiYm5ldy50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoJCWZvciB1YiBpbiB1YToKCQkJdWdlbi5hcHBlbmQodWIpCglleGNlcHQ6CgkJYT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ2l0aHViLmNvbS9FQy0xNzA5L2EvYmxvYi9tYWluL2JibmV3LnR4dCcpLnRleHQKCQl1YT1vcGVuKCcuYmJuZXcudHh0JywndycpCgkJYWE9cmUuZmluZGFsbCgnbGluZSI+KC4qPyk8JyxzdHIoYSkpCgkJZm9yIHVuIGluIGFhOgoJCQl1YS53cml0ZSh1bisnXG4nKQoJCXVhPW9wZW4oJy5iYm5ldy50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoKIyBJTkRJQ0FUSU9OCmlkLGlkMixsb29wLG9rLGNwLGFrdW4sb3ByZWssbWV0aG9kLGxpc2Vuc2lrdSx0YXBsaWthc2ksdG9rZW5rdSx1aWQsbGlzZW5zaWt1bmk9IFtdLFtdLDAsMCwwLFtdLFtdLFtdLFtdLFtdLFtdLFtdLFtdCmNva2JydXQ9W10KcHdwbHVzcyxwd255YT1bXSxbXQoKZGVmIGNvY29rKCk6Cgl0cnk6CgkJY29rYnJ1PW9wZW4oJy5jb29raWUudHh0JykucmVhZCgpCgkJY29rYnJ1dC5hcHBlbmQoY29rYnJ1KQoJZXhjZXB0OgoJCWxvZ2luX2xhZ2kzMzQoKQojIENPTE9SUwp4ID0gJ1wzM1ttJyAjIERFRkFVTFQKayA9ICdcMDMzWzkzbScgIyBLVU5JTkcgKwpoID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUgKwpoaCA9ICdcMDMzWzMybScgIyBISUpBVSAtCnUgPSAnXDAzM1s5NW0nICMgVU5HVQprayA9ICdcMDMzWzMzbScgIyBLVU5JTkcgLQpiID0gJ1wzM1sxOzk2bScgIyBCSVJVIC0KcCA9ICdceDFiWzA7MzRtJyAjIEJJUlUgKwojIGtleQpkZWYgYmFjaygpOgoJbG9naW4oKQpkZWYgY2hrKCk6IAogIHV1aWQgPSBzdHIob3MuZ2V0ZXVpZCgpKSArIHN0cihvcy5nZXRsb2dpbigpKSAKICBpZCA9ICJ8Ii5qb2luKHV1aWQpIAogIHByaW50KCJcblxuXHgxYlszNzsxbSAgWU9VUiBJRCA6ICIraWQpIAogIHRyeTogCiAgICBodHRwQ2FodCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9naXRodWIuY29tL0VtYWRBbGtoYXNobi9rZXkvYmxvYi9tYWluL2EudHh0IikudGV4dCAKICAgIGlmIGlkIGluIGh0dHBDYWh0OiAKICAgICAgcHJpbnQoIlwwMzNbOTJtICBXRUxDT01FIFBBSUQgVVNFUiBFTkpPWfCfkoPwn5KDLiAuLi4uLi4uXDAzM1s5N20iKSAKICAgICAgbXNnID0gc3RyKG9zLmdldGV1aWQoKSkgCiAgICAgIHRpbWUuc2xlZXAoMSkgCiAgICAgIHBhc3MgCiAgICBlbHNlOiAKICAgICAgcHJpbnQoIlx4MWJbOTFtIFlPVVIgSUQgSVMgTk9UIEFDVElWRfCfmKEgU0VORCBNRVNTQUdFIE9OIFdIQVRTQVBQXDAzM1s5N20iKSAKICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3dhLm1lL3FyLzUyRUFDRFM1R1A2QU0xJykKICAgICAgdGltZS5zbGVlcCgxKSAKICAgICAgc3lzLmV4aXQoKSAKICBleGNlcHQ6IAogICAgc3lzLmV4aXQoKSAKICAgIGlmIG5hbWUgPT0gJ19fbWFpbl9fJzogCiAgICAgcHJpbnQgKGxvZ28pCiAgICAgY2hrKCkgCiAgICAKY2hrKCkKb3Muc3lzdGVtKCdjbGVhcicpCiMgQkFOTkVSCmRlZiBiYW5uZXIoKToKCWNsZWFyKCkKCXdlbCA9ICcjIFdFTENPTUUgVE8gSkVXRUxGVU5EICBUT09MUyAyMDIyJwoJd2VsMiA9IG1hcmsod2VsLCBzdHlsZT0neWVsbG93JykKCXNvbCgpLnByaW50KHdlbDIpCglhdT0nQVVUSE9SICAgIDogIEpFV0VMRlVORFxuR0lUSFVCICAgIDogIGh0dHBzOi8vZ2l0aHViLmNvbS9KRVdFTEZVTkRcbldIQVRTQVBQICA6ICAwOTA1NTAxMjg2MicKCXBlbmdlbWJhbmcxPW5lbChhdSxzdHlsZT0ieWVsbG93IikKCWNldGFrKG5lbChwZW5nZW1iYW5nMSwgdGl0bGU9J0lORk9STUFUSU9OIENBUlJJRVInKSkKCiMgQ29udmVydGVyIEJ1bGFuCmRpYyA9IHsnMSc6J0phbnVhcnknLCcyJzonRmVicnVhcnknLCczJzonTWFyY2gnLCc0JzonQXByaWwnLCc1JzonTWF5JywnNic6J0p1bmUnLCc3JzonSnVseScsJzgnOidBdWd1c3QnLCc5JzonU2VwdGVtYmVyJywnMTAnOidPY3RvYmVyJywnMTEnOidOb3ZlbWJlcicsJzEyJzonRGVjZW1iZXInfQpkaWMyID0geycwMSc6J0phbnVhcnknLCcwMic6J0ZlYnJ1YXJ5JywnMDMnOidNYXJjaCcsJzA0JzonQXByaWwnLCcwNSc6J01heScsJzA2JzonSnVuZScsJzA3JzonSnVseScsJzA4JzonQXVndXN0JywnMDknOidTZXB0ZW1iZXInLCcxMCc6J09jdG9iZXInLCcxMSc6J05vdmVtYmVyJywnMTInOidEZXZlbWJlcid9CnRnbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLmRheQpibG4gPSBkaWNbKHN0cihkYXRldGltZS5kYXRldGltZS5ub3coKS5tb250aCkpXQp0aG4gPSBkYXRldGltZS5kYXRldGltZS5ub3coKS55ZWFyCm9rYyA9ICdPSy0nK3N0cih0Z2wpKyctJytzdHIoYmxuKSsnLScrc3RyKHRobikrJy50eHQnCmNwYyA9ICdDUC0nK3N0cih0Z2wpKyctJytzdHIoYmxuKSsnLScrc3RyKHRobikrJy50eHQnCiMgQ0xFQVIKZGVmIGNsZWFyKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKIyBCQUNLCmRlZiBiYWNrKCk6Cglsb2dpbigpCiMgQkFOTkVSCmRlZiBiYW5uZXIoKToKCWNsZWFyKCkKCXdlbD0nIyDilYAgV0VMQ09NRSBUTyBGQUNFQk9PSyBDUkFDSyBUT09MUyDilYAgJwoJY2lrMj1tYXJrKHdlbCAsc3R5bGU9J2dyZWVuJykKCXNvbCgpLnByaW50KGNpazIpCgliYW49JycnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICBfX19fXyAgIF9fICBfXyAgICAgIF8gICAgICBfX19fICAKIHwgX19fX3wgfCAgXC8gIHwgICAgLyBcICAgIHwgIF8gXCAKICB8ICBffCAgIHwgfFwvfCB8ICAgLyBfIFwgICB8IHwgfCB8CiAgfCB8X19fICB8IHwgIHwgfCAgLyBfX18gXCAgfCB8X3wgfAogfF9fX19ffCB8X3wgIHxffCAvXy8gICBcX1wgfF9fX18vIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgCicnJwoJb2kgPSBuZWwodGVreihiYW4sanVzdGlmeT0nY2VudGVyJyxzdHlsZT0nYm9sZCcpLCBzdHlsZT0nZ3JlZW4nKQoJY2V0YWsobmVsKG9pLCB0aXRsZT0nW2JvbGQgZ3JlZW5dIOKbpiBERVZFTE9WRVIgSU5GT1JNQVRJT04g4pumIFsvYm9sZCBncmVlbl0nKSkKIyBWQUxJREFTSSBUT0tFTgpkZWYgbG9naW4oKToKCQl0cnk6CgkJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkKCQkJa3VraXMgPSBvcGVuKCcuY29rLnR4dCcsJ3InKS5yZWFkKCkKCQkJdG9rZW5rdS5hcHBlbmQodG9rZW4pCgkJCXRyeToKCQkJCXN5ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9maWVsZHM9aWQsbmFtZSZhY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdLCBjb29raWVzPXsnY29va2llJzprdWtpc30pCgkJCQlzeTIgPSBqc29uLmxvYWRzKHN5LnRleHQpWyduYW1lJ10KCQkJCXN5MyA9IGpzb24ubG9hZHMoc3kudGV4dClbJ2lkJ10KCQkJCW1lbnUoc3kyLHN5MykKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJbG9naW5fbGFnaTMzNCgpCgkJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJCWJhbm5lcigpCgkJCQlsaSA9ICcjIFBST0JMRU0gSU5URVJORVQgQ09OTkVDVElPTiwgQ0hFQ0sgQU5EIFRSWSBBR0FJTicKCQkJCWxvID0gbWFyayhsaSwgc3R5bGU9J2dyZWVuJykKCQkJCXNvbCgpLnByaW50KGxvLCBzdHlsZT0nZ3JlZW4nKQoJCQkJZXhpdCgpCgkJZXhjZXB0IElPRXJyb3I6CgkJCWxvZ2luX2xhZ2kzMzQoKQoKIyBMT0dJTgpkZWYgbG9naW5fbGFnaTMzNCgpOgoJdHJ5OgoJCWJhbm5lcigpCgkJX19fa29udG9sX19fID0gaW5wdXQoJ1shXSBNYXN1a2thbiBDb29raWVzIDogJykKCQlkYXRhID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2J1c2luZXNzLmZhY2Vib29rLmNvbS9idXNpbmVzc19sb2NhdGlvbnMiLCBoZWFkZXJzID0geyJ1c2VyLWFnZW50IjogIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA2LjAuMTsgZ3JlZW5taSA0QSBCdWlsZC9NTUIyOU0pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81OS4wLjMwNzEuOTIgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJyZWZlcmVyIjogImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS8iLCJob3N0IjogImJ1c2luZXNzLmZhY2Vib29rLmNvbSIsIm9yaWdpbiI6ICJodHRwczovL2J1c2luZXNzLmZhY2Vib29rLmNvbSIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiIDogIjEiLCJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjciLCJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgiLCJjb250ZW50LXR5cGUiOiJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgifSwgY29va2llcyA9IHsiY29va2llIjpfX19rb250b2xfX199KSAKCQlmaW5kX3Rva2VuID0gcmUuc2VhcmNoKCIoRUFBR1x3KykiLCBkYXRhLnRleHQpCgkJa2VuPW9wZW4oIi50b2tlbi50eHQiLCAidyIpLndyaXRlKGZpbmRfdG9rZW4uZ3JvdXAoMSkpCgkJY29rPW9wZW4oIi5jb2sudHh0IiwgInciKS53cml0ZShfX19rb250b2xfX18pCgkJcHJpbnQoJ1xuIExPR0lOIOKImiAgJyk7dGltZS5zbGVlcCgxKQoJCWV4aXQoKQoJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgoJCW9zLnN5c3RlbSgicm0gLWYgLnRva2VuLnR4dCIpCgkJb3Muc3lzdGVtKCJybSAtZiAuY29rLnR4dCIpCgkJcHJpbnQoJyVzIyBMT0dJTiBHQUdBTCAhIENPT0tJRSBUSURBSyBWQUxJRCAhICclKGgpKQoJCWV4aXQoKQoKCgojIE1FTlUKZGVmIG1lbnUobXlfbmFtZSxteV9pZCk6Cgl0cnk6c2ggPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vaHR0cGJpbi5vcmcvaXAnKS5qc29uKCkKCWV4Y2VwdDpzaCA9IHsnb3JpZ2luJzonLSd9Cgl0cnk6CgkJdGdseCA9IG15X2JpcnRoZGF5LnNwbGl0KCcvJylbMV0KCQlibG54ID0gZGljMltzdHIobXlfYmlydGhkYXkuc3BsaXQoJy8nKVswXSldCgkJdGhueCA9IG15X2JpcnRoZGF5LnNwbGl0KCcvJylbMl0KCQliaXJ0aCA9IHRnbHgrJyAnK2JsbngrJyAnK3RobngKCWV4Y2VwdDpiaXJ0aCA9ICctJwoJYmFubmVyKCkKCXNnID0gJyMg4peI4peI4peIIElORk9STUFTSSBQRU5HR1VOQSDil4jil4jil4gnCglmeCA9IG1hcmsoc2csIHN0eWxlPSdncmVlbicpCglzb2woKS5wcmludChmeCkKCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBJRCBuYW1lIDogJytzdHIobXlfbmFtZSkpCglwcmludCh4KydbJytoKyfigKInK3grJ10gSUQgdXNlciAgIDogJytzdHIobXlfaWQpKQoJcHJpbnQoeCsnWycraCsn4oCiJyt4KyddIElQIHVzZXIgICA6ICcrc3RyKHNoWydvcmlnaW4nXSkpCglpbyA9ICcnJ1tib2xkIGdyZWVuXVswMV0gQ3JhY2sgZnJvbSB0aGUgZnJpZW5kcyBsaXN0JycnCglvaSA9IG5lbChpbywgc3R5bGU9J2dyZWVuJykKCWNldGFrKG5lbChvaSwgdGl0bGU9J1tib2xkIGdyZWVuXSDigKIgTUVOVSBDUkFDSyDigKIgWy9ib2xkIGdyZWVuXScpKQoJZWMgPSBpbnB1dCh4KydbJytwKyc8PicreCsnXSBFbnRlciAoMDEpIDogJykKCWlmIGVjIGluIFsnMScsJzAxJ106CgkJZHVtcF9wdWJsaWsoKQoJZWxpZiBlYyBpbiBbJzInLCcwMiddOgoJCW9zLnN5c3RlbSgncm0gLXJmIC50b2tlbi50eHQnKQoJCW9zLnN5c3RlbSgncm0gLXJmIC5jb29raWUudHh0JykKCQlwcmludCh4KydbJytoKyfigKInK3grJ10gVFVOR0dVIOKAoiDigKIg4oCiJykKCQl0aW1lLnNsZWVwKDEpCgkJc3cgPSAnIyBTVUNDRVNTIE9VVCcKCQlzb2woKS5wcmludChtYXJrKHN3LCBzdHlsZT0nZ3JlZW4nKSkKCQlleGl0KCkKCWVsc2U6CgkJcmljID0gJyMgT1BUSU9OIE5PVCBJTiBUSEUgTUVOVScKCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J2dyZWVuJykpCgkJZXhpdCgpCgojIFJFU1VMVCBDSEVDS0VSCmRlZiByZXN1bHQoKToKCWNlayA9ICcjIENFSyBSRVNVTFQgQ1JBQ0snCglzb2woKS5wcmludChtYXJrKGNlaywgc3R5bGU9J2dyZWVuJykpCglrYXllcyA9ICdbYm9sZCBncmVlbl1bMDFdIENIRUNLIENQIFJFU1VMVFNcblswMl0gQ0hFQ0sgT0sgUkVTVUxUU1xuWzAwXSBCQUNLIFRPIE1FTlVbL2JvbGQgZ3JlZW5dJwoJa2lzID0gbmVsKGtheWVzLCBzdHlsZT0nZ3JlZW4nKQoJY2V0YWsobmVsKGtpcywgdGl0bGU9J1JFU1VMVFMnKSkKCWt6ID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBDaG9vc2UgOiAnKQoJaWYga3ogaW4gWycxJywnMDEnXToKCQl0cnk6dmluID0gb3MubGlzdGRpcignL3NkY2FyZC80TUJGLURBVEEvQ1AnKQoJCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKCQkJZ2FkYSA9ICcjIFNUT1JBR0UgTk9UIEZPVU5EICcKCQkJc29sKCkucHJpbnQobWFyayhnYWRhLCBzdHlsZT0nZ3JlZW4nKSkKCQkJdGltZS5zbGVlcCgyKQoJCQliYWNrKCkKCQlpZiBsZW4odmluKT09MDoKCQkJaGFoYSA9ICcjIFlPVSBET05UIEhBVkUgQ1AgUkVTVUxUUycKCQkJc29sKCkucHJpbnQobWFyayhoYWhhLCBzdHlsZT0neWVsbG93JykpCgkJCXRpbWUuc2xlZXAoMikKCQkJYmFjaygpCgkJZWxzZToKCQkJZ2VyciA9ICcjIEhBU0lMIEFLVU4gQ1AgS0FNVScKCQkJc29sKCkucHJpbnQobWFyayhnZXJyLCBzdHlsZT0nZ3JlZW4nKSkKCQkJY2loID0gMAoJCQlsb2wgPSB7fQoJCQlmb3IgaXNpIGluIHZpbjoKCQkJCXRyeTpoZW0gPSBvcGVuKCcvc2RjYXJkLzRNQkYtREFUQS9DUC8nK2lzaSwncicpLnJlYWRsaW5lcygpCgkJCQlleGNlcHQ6Y29udGludWUKCQkJCWNpaCs9MQoJCQkJaWYgY2loPDEwOgoJCQkJCW5vbSA9ICcwJytzdHIoY2loKQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCQlsb2wudXBkYXRlKHtub206c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytub20rJ10gJytpc2krJyBbICcrc3RyKGxlbihoZW0pKSsnIEFjY291bnQgXScreCkKCQkJCWVsc2U6CgkJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytzdHIoY2loKSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt4KQoJCQlnZXJyMiA9ICcjIFNFTEVDVCBSRVNVTFRTIFRPIFNIT1cnCgkJCXNvbCgpLnByaW50KG1hcmsoZ2VycjIsIHN0eWxlPSdncmVlbicpKQoJCQlnZWVoID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBjaG9vc2UgOiAnKQoJCQl0cnk6Z2VoID0gbG9sW2dlZWhdCgkJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJCXJpYyA9ICcjIE9QVElPTiBOT1QgSU4gVEhFIE1FTlUnCgkJCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J2dyZWVuJykpCgkJCQlleGl0KCkKCQkJdHJ5OmxpbiA9IG9wZW4oJy9zZGNhcmQvNE1CRi1EQVRBL0NQLycrZ2VoLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoJCQlleGNlcHQ6CgkJCQloZWhlID0gJyMgRklMRSBOT1QgRk9VTkQsIENIRUNLIEFORCBUUlkgQUdBSU4nCgkJCQlzb2woKS5wcmludChtYXJrKGhlaGUsIHN0eWxlPSdncmVlbicpKQoJCQkJdGltZS5zbGVlcCgyKQoJCQkJYmFjaygpCgkJCWFrdW4gPSAnIyBZT1VSIENQIEFDQ09VTlQgUkVTVUxUJwoJCQlzb2woKS5wcmludChtYXJrKGFrdW4sIHN0eWxlPSdncmVlbicpKQoJCQlub2NwPTAKCQkJZm9yIGNwa3UgaW4gcmFuZ2UobGVuKGxpbikpOgoJCQkJY3BrdW5pPWxpbltub2NwXS5zcGxpdCgnfCcpCgkJCQljcGt1aD1mJyMgSUQgOiB7Y3BrdW5pWzBdfSBQQVNTV09SRCA6IHtjcGt1bmlbMV19JwoJCQkJc29sKCkucHJpbnQobWFyayhjcGt1aCxzdHlsZT0ieWVsbG93IikpCgkJCQlub2NwICs9MQoJCQlha3VuMiA9ICcjIEhBU0lMIEFLVU4gQ1AgS0FNVScKCQkJc29sKCkucHJpbnQobWFyayhha3VuLCBzdHlsZT0nZ3JlZW4nKSkKCQkJaW5wdXQoJ1tQUkVTUyBFTlRFUiBUTyBSRVRVUk5dJykKCQkJYmFjaygpCgllbGlmIGt6IGluIFsnMicsJzAyJ106CgkJdHJ5OnZpbiA9IG9zLmxpc3RkaXIoJy9zZGNhcmQvNE1CRi1EQVRBL09LJykKCQlleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CgkJCWdhZGEgPSAnIyBTVE9SQUdFIE5PVCBGT1VORCAnCgkJCXNvbCgpLnByaW50KG1hcmsoZ2FkYSwgc3R5bGU9J2dyZWVuJykpCgkJCXRpbWUuc2xlZXAoMikKCQkJYmFjaygpCgkJaWYgbGVuKHZpbik9PTA6CgkJCWhhaGEgPSAnIyBZT1UgRE9OVCBIQVZFIE9LIFJFU1VMVFMnCgkJCXNvbCgpLnByaW50KG1hcmsoaGFoYSwgc3R5bGU9J3llbGxvdycpKQoJCQl0aW1lLnNsZWVwKDIpCgkJCWJhY2soKQoJCWVsc2U6CgkJCWdlcnIgPSAnIyBIQVNJTCBBS1VOIE9LIEtBTVUnCgkJCXNvbCgpLnByaW50KG1hcmsoZ2Vyciwgc3R5bGU9J2dyZWVuJykpCgkJCWNpaCA9IDAKCQkJbG9sID0ge30KCQkJZm9yIGlzaSBpbiB2aW46CgkJCQl0cnk6aGVtID0gb3BlbignL3NkY2FyZC80TUJGLURBVEEvT0svJytpc2ksJ3InKS5yZWFkbGluZXMoKQoJCQkJZXhjZXB0OmNvbnRpbnVlCgkJCQljaWgrPTEKCQkJCWlmIGNpaDwxMDA6CgkJCQkJbm9tID0gJzAnK3N0cihjaWgpCgkJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJCWxvbC51cGRhdGUoe25vbTpzdHIoaXNpKX0pCgkJCQkJcHJpbnQoJ1snK25vbSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt4KQoJCQkJZWxzZToKCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQkJcHJpbnQoJ1snK3N0cihjaWgpKyddICcraXNpKycgWyAnK3N0cihsZW4oaGVtKSkrJyBBY2NvdW50IF0nK3gpCgkJCWdlcnIyID0gJyMgU0VMRUNUIFJFU1VMVFMgVE8gU0hPVycKCQkJc29sKCkucHJpbnQobWFyayhnZXJyMiwgc3R5bGU9J2dyZWVuJykpCgkJCWdlZWggPSBpbnB1dCh4KydbJytwKydmJyt4KyddIENob29zZSA6ICcpCgkJCXRyeTpnZWggPSBsb2xbZ2VlaF0KCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcmljID0gJyMgT1BUSU9OIE5PVCBJTiBUSEUgTUVOVScKCQkJCXNvbCgpLnByaW50KG1hcmsocmljLCBzdHlsZT0nZ3JlZW4nKSkKCQkJCWV4aXQoKQoJCQl0cnk6bGluID0gb3BlbignL3NkY2FyZC80TUJGLURBVEEvT0svJytnZWgsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpCgkJCWV4Y2VwdDoKCQkJCWhlaGUgPSAnIyBGSUxFIE5PVCBGT1VORCwgQ0hFQ0sgQU5EIFRSWSBBR0FJTicKCQkJCXNvbCgpLnByaW50KG1hcmsoaGVoZSwgc3R5bGU9J2dyZWVuJykpCgkJCQl0aW1lLnNsZWVwKDIpCgkJCQliYWNrKCkKCQkJYWt1biA9ICcjIFlPVVIgT0sgQUNDT1VOVCBSRVNVTFQnCgkJCXNvbCgpLnByaW50KG1hcmsoYWt1biwgc3R5bGU9J2dyZWVuJykpCgkJCW5vY3A9MAoJCQlmb3IgY3BrdSBpbiByYW5nZShsZW4obGluKSk6CgkJCQljcGt1bmk9bGluW25vY3BdLnNwbGl0KCd8JykKCQkJCWNwa3VoPWYnIyBJRCA6IHtjcGt1bmlbMF19IFBBU1NXT1JEIDoge2Nwa3VuaVsxXX0nCgkJCQlzb2woKS5wcmludChtYXJrKGNwa3VoLHN0eWxlPSJncmVlbiIpKQoJCQkJcHJpbnQoZid7aGh9Q09PS0lFIDoge3h9e2Nwa3VuaVsyXX0nKQoJCQkJbm9jcCArPTEKCQkJYWt1bjIgPSAnIyBZT1VSIE9LIEFDQ09VTlQgUkVTVUxUJwoJCQlzb2woKS5wcmludChtYXJrKGFrdW4sIHN0eWxlPSdncmVlbicpKQoJCQlpbnB1dCgnW1BSRVNTIEVOVEVSIFRPIFJFVFVSTl0nKQoJCQliYWNrKCkKCWVsaWYga3ogaW4gWycwJywnMDAnXToKCQliYWNrKCkKCWVsc2U6CgkJcmljID0gJyMgT1BUSU9OIE5PVCBJTiBUSEUgTUVOVScKCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J2dyZWVuJykpCgkJZXhpdCgpCgojIE9QRU4KZGVmIGZpbGUoKToKCXRlayA9ICcjIENIRUNLIENFS1BPSU5UIEZST00gRklMRScKCXNvbCgpLnByaW50KG1hcmsodGVrLCBzdHlsZT0nZ3JlZW4nKSwgc3R5bGU9J29uIGdyZWVuJykKCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBSRUFESU5HIFRIRSBGSUxFLCBXQUlUIEEgTUlOVVRFIOKAouKAouKAoicpCgl0aW1lLnNsZWVwKDIpCgl0ZWtzID0gJyMgU0VMRUNUIEZJTEVTIFRPIENIRUNLJwoJc29sKCkucHJpbnQobWFyayh0ZWtzLCBzdHlsZT0nZ3JlZW4nKSkKCW15X2ZpbGVzID0gW10KCXRyeToKCQlsaXMgPSBvcy5saXN0ZGlyKCcvc2RjYXJkLzRNQkYtREFUQS9DUCcpCgkJZm9yIGt0IGluIGxpczoKCQkJbXlfZmlsZXMuYXBwZW5kKGt0KQoJZXhjZXB0OnBhc3MKCXRyeToKCQltZXIgPSBvcy5saXN0ZGlyKCcvc2RjYXJkLzRNQkYtREFUQS9PSycpCgkJZm9yIHR5IGluIG1lcjoKCQkJbXlfZmlsZXMuYXBwZW5kKHR5KQoJZXhjZXB0OnBhc3MKCWlmIGxlbihteV9maWxlcyk9PTA6CgkJeXkgPSAnIyBZT1UgRE9OVCBIQVZFIFRIRSBSRVNVTFRTIFRPIENIRUNLJwoJCXNvbCgpLnByaW50KG1hcmsoeXksIHN0eWxlPSdncmVlbicpKQoJCWV4aXQoKQoJZWxzZToKCQljaWggPSAwCgkJbG9sID0ge30KCQlmb3IgaXNpIGluIG15X2ZpbGVzOgoJCQl0cnk6aGVtID0gb3BlbignL3NkY2FyZC80TUJGLURBVEEvQ1AvJytpc2ksJ3InKS5yZWFkbGluZXMoKQoJCQlleGNlcHQ6CgkJCQl0cnk6aGVtID0gb3BlbignL3NkY2FyZC80TUJGLURBVEEvT0svJytpc2ksJ3InKS5yZWFkbGluZXMoKQoJCQkJZXhjZXB0OmNvbnRpbnVlCgkJCWNpaCs9MQoJCQlpZiBjaWg8MTA6CgkJCQlub20gPSAnMCcrc3RyKGNpaCkKCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCWxvbC51cGRhdGUoe25vbTpzdHIoaXNpKX0pCgkJCQlwcmludCgnWycrbm9tKyddICcraXNpKycgWyAnK3N0cihsZW4oaGVtKSkrJyBBY2NvdW50IF0nK3gpCgkJCWVsc2U6CgkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQlwcmludCgnWycrc3RyKGNpaCkrJ10gJytpc2krJyBbICcrc3RyKGxlbihoZW0pKSsnIEFjY291bnQgXScreCkKCQl0ZWtzMiA9ICcjIFNFTEVDVCBGSUxFUyBUTyBDSEVDSycKCQlzb2woKS5wcmludChtYXJrKHRla3MyLCBzdHlsZT0nZ3JlZW4nKSkKCQlnZWVoID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBDaG9vc2UgOiAnKQoJCXRyeTpnZWggPSBsb2xbZ2VlaF0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXJpYyA9ICcjIE9QVElPTiBOT1QgSU4gVEhFIE1FTlUnCgkJCXNvbCgpLnByaW50KG1hcmsocmljLCBzdHlsZT0nZ3JlZW4nKSkKCQkJZXhpdCgpCgkJdHJ5OgoJCQloZiA9IG9wZW4oJy9zZGNhcmQvNE1CRi1EQVRBLzFDUC8nK2dlaCwncicpLnJlYWRsaW5lcygpCgkJCWZvciBmeiBpbiBoZjoKCQkJCWFrdW4uYXBwZW5kKGZ6LnJlcGxhY2UoJ1xuJywnJykpCgkJCWNla19vcHNpKCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJdHJ5OgoJCQkJaGYgPSBvcGVuKCcvc2RjYXJkLzRNQkYtREFUQS9PSy8nK2dlaCwncicpLnJlYWRsaW5lcygpCgkJCQlmb3IgZnogaW4gaGY6CgkJCQkJYWt1bi5hcHBlbmQoZnoucmVwbGFjZSgnXG4nLCcnKSkKCQkJCWNla19vcHNpKCkKCQkJZXhjZXB0IElPRXJyb3I6CgkJCQloZWhlID0gJyMgRklMRSBOT1QgRk9VTkQsIENIRUNLIEFORCBUUlkgQUdBSU4nCgkJCQlzb2woKS5wcmludChtYXJrKGhlaGUsIHN0eWxlPSdncmVlbicpKQoJCQkJdGltZS5zbGVlcCgyKQoJCQkJYmFjaygpCgojIERVTVAgSUQgUFVCTElLCmRlZiBkdW1wX3B1YmxpaygpOgoJdHJ5OgoJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkKCQlrdWtpcyA9IG9wZW4oJy5jb2sudHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJZXhpdCgpCgl3aW4gPSAnIyBEVU1QIFBVQkxJQyBJRCcKCXdpbjIgPSBtYXJrKHdpbiwgc3R5bGU9J2dyZWVuJykKCXNvbCgpLnByaW50KHdpbjIpCglwcmludCh4KydbJytoKyfigKInK3grJ10gU0lOIEFUIFlPVVIgT1dOIFJFU1BPTlNJQklMSVRZJykKCXBpbCA9IGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gRW50ZXIgVGFyZ2V0IElEOiA6ICcpCgl0cnk6CgkJa29oMiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjEuMC8nK3BpbCsnP2ZpZWxkcz1mcmllbmRzLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0sY29va2llcz17J2Nvb2tpZSc6IGt1a2lzfSkuanNvbigpCgkJZm9yIHBpIGluIGtvaDJbJ2ZyaWVuZHMnXVsnZGF0YSddOgoJCQl0cnk6aWQuYXBwZW5kKHBpWydpZCddKyd8JytwaVsnbmFtZSddKQoJCQlleGNlcHQ6Y29udGludWUKCQlwcmludCh4KydbJytoKyfigKInK3grJ10gVE9UQUwgRFVNUCBJRCA6ICcrc3RyKGxlbihpZCkpKQoJCXNldHRpbmcoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCWxpID0gJyMgUFJPQkxFTSBJTlRFUk5FVCBDT05ORUNUSU9OLCBDSEVDSyBBTkQgVFJZIEFHQUlOJwoJCWxvID0gbWFyayhsaSwgc3R5bGU9J2dyZWVuJykKCQlzb2woKS5wcmludChsbywgc3R5bGU9J2dyZWVuJykKCQlleGl0KCkKCWV4Y2VwdCAoS2V5RXJyb3IsSU9FcnJvcik6CgkJdGVrcyA9ICcjIFRoZSBhY2NvdW50IElEIG11c3QgYmUgYSBmcmllbmQgb2YgeW91cnMgIScKCQl0ZWtzMiA9IG1hcmsodGVrcywgc3R5bGU9J2dyZWVuJykKCQlzb2woKS5wcmludCh0ZWtzMikKCQlleGl0KCkKCWlmIGxlbih2aW4pPT0wOgoJCWhhaGEgPSAnIyBZT1UgRE9OVCBIQVZFIEZJTEUgRFVNUCBSRVNVTFRTJwoJCXNvbCgpLnByaW50KG1hcmsoaGFoYSwgc3R5bGU9J3llbGxvdycpKQoJCXRpbWUuc2xlZXAoMikKCQliYWNrKCkKCWVsc2U6CgkJZ2VyciA9ICcjIFlPVVIgRklMRSBEVU1QIFJFU1VMVCcKCQlzb2woKS5wcmludChtYXJrKGdlcnIsIHN0eWxlPSdncmVlbicpKQoJCWNpaCA9IDAKCQlsb2wgPSB7fQoJCWZvciBpc2kgaW4gdmluOgoJCQl0cnk6aGVtID0gb3BlbignL3NkY2FyZC80TUJGLURBVEEvRFVNUC8nK2lzaSwncicpLnJlYWRsaW5lcygpCgkJCWV4Y2VwdDpjb250aW51ZQoJCQljaWgrPTEKCQkJaWYgY2loPDEwOgoJCQkJbm9tID0gJzAnK3N0cihjaWgpCgkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQlsb2wudXBkYXRlKHtub206c3RyKGlzaSl9KQoJCQkJcHJpbnQoJ1snK25vbSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt4KQoJCQllbHNlOgoJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJcHJpbnQoJ1snK3N0cihjaWgpKyddICcraXNpKycgWyAnK3N0cihsZW4oaGVtKSkrJyBBY2NvdW50IF0nK3gpCgkJZ2VycjIgPSAnIyBTRUxFQ1QgUkVTVUxUUyBUTyBTVEFSVCBDUkFDSycKCQlzb2woKS5wcmludChtYXJrKGdlcnIyLCBzdHlsZT0nZ3JlZW4nKSkKCQlnZWVoID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBjaG9vc2UgOiAnKQoJCXRyeTpnZWggPSBsb2xbZ2VlaF0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXJpYyA9ICcjIE9QVElPTiBOT1QgSU4gVEhFIE1FTlUnCgkJCXNvbCgpLnByaW50KG1hcmsocmljLCBzdHlsZT0nZ3JlZW4nKSkKCQkJZXhpdCgpCgkJdHJ5OmxpbiA9IG9wZW4oJy9zZGNhcmQvNE1CRi1EQVRBL0RVTVAvJytnZWgsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpCgkJZXhjZXB0OgoJCQloZWhlID0gJyMgRklMRSBOT1QgRk9VTkQsIENIRUNLIEFORCBUUlkgQUdBSU4nCgkJCXNvbCgpLnByaW50KG1hcmsoaGVoZSwgc3R5bGU9J2dyZWVuJykpCgkJCXRpbWUuc2xlZXAoMikKCQkJYmFjaygpCgkJZm9yIHhpZCBpbiBsaW46CgkJCWlkLmFwcGVuZCh4aWQpCgkJc2V0dGluZygpCmRlZiB0aXBzeCgpOgoJcHJpbnQoJ05FWFQgVVBEQVRFIEJSTyBfU0MgUEVNVUxBIEJFTFVNIFNFTVBVUk5BXzopJykKCgojIFBFTkdBVFVSQU4gSUQKZGVmIHNldHRpbmcoKToKCXdsID0gJyMgSUQgU0VRVUVOQ0UgU0VUVElOR1MnCglzb2woKS5wcmludChtYXJrKHdsLCBzdHlsZT0nZ3JlZW4nKSkKCXRla3MgPSAnWzAxXSBDUkFDSyBPTEQgMjAwNC0yMDA4IFxuWzAyXSBDUkFDSyBORVcgMjAwOC0yMDIyIFxuWzAzXSBDUkFDSyAyMDA0LTIwMjIgKERpc2FyYW5rYW4pJwoJdGFrID0gbmVsKHRla3MsIHN0eWxlPSdncmVlbicpCgljZXRhayhuZWwodGFrLCB0aXRsZT0nIOKAoiBTRVRUSU5HIOKAoiAnKSkKCWh1ID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBFbnRlciA6ICcpCglpZiBodSBpbiBbJzEnLCcwMSddOgoJCWZvciB0dWEgaW4gc29ydGVkKGlkKToKCQkJaWQyLmFwcGVuZCh0dWEpCgoJZWxpZiBodSBpbiBbJzInLCcwMiddOgoJCW11ZGE9W10KCQlmb3IgYmFjb3QgaW4gc29ydGVkKGlkKToKCQkJbXVkYS5hcHBlbmQoYmFjb3QpCgkJYmNtPWxlbihtdWRhKQoJCWJjbWk9KGJjbS0xKQoJCWZvciB4bXVkIGluIHJhbmdlKGJjbSk6CgkJCWlkMi5hcHBlbmQobXVkYVtiY21pXSkKCQkJYmNtaSAtPTEKCWVsaWYgaHUgaW4gWyczJywnMDMnXToKCQlmb3IgYmFjb3QgaW4gaWQ6CgkJCXh4ID0gcmFuZG9tLnJhbmRpbnQoMCxsZW4oaWQyKSkKCQkJaWQyLmluc2VydCh4eCxiYWNvdCkKCWVsc2U6CgkJcmljID0gJyMgT1BUSU9OIE5PVCBJTiBUSEUgTUVOVScKCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J2dyZWVuJykpCgkJZXhpdCgpCgltZXQgPSAnIyBFbnRlciBDUkFDSyBNRVRIT0QnCglzb2woKS5wcmludChtYXJrKG1ldCwgc3R5bGU9J2dyZWVuJykpCglpb3ogPSAnWzAxXSBNRVRIT0QgTS1GQUNFQk9PSyAoRGlzYXJhbmthbilcblswMl0gTUVUSE9EIEZSRUUtRkFDRUJPT0tcblswM10gTUVUSE9EIFRPVUNILUZBQ0VCT09LXG5bMDRdIE1FVEhPRCBNQkFTSUMtRkFDRUJPT0snCglnZXNzID0gbmVsKGlveiwgc3R5bGU9J2dyZWVuJykKCWNldGFrKG5lbChnZXNzLCB0aXRsZT0nIOKAoiBNRVRIT0Qg4oCiICcpKQoJaGMgPSBpbnB1dCh4KydbJytwKydmJyt4KyddICA6ICcpCglpZiBoYyBpbiBbJzEnLCcwMSddOgoJCW1ldGhvZC5hcHBlbmQoJ21vYmlsZScpCgllbGlmIGhjIGluIFsnMicsJzAyJ106CgkJbWV0aG9kLmFwcGVuZCgnZnJlZScpCgllbGlmIGhjIGluIFsnMycsJzAzJ106CgkJbWV0aG9kLmFwcGVuZCgndG91Y2gnKQoJZWxpZiBoYyBpbiBbJzQnLCcwNCddOgoJCW1ldGhvZC5hcHBlbmQoJ21iYXNpYycpCgllbHNlOgoJCW1ldGhvZC5hcHBlbmQoJ21vYmlsZScpCglndXcgPSAnIyBFbnRlciB0aGUgbGV0dGVyICggeSApJwoJc29sKCkucHJpbnQobWFyayhndXcsIHN0eWxlPSdncmVlbicpKQoJYXBsaWsgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIEVudGVyIDogJykKCWlmIGFwbGlrIGluIFsneScsJ1knXToKCQl0YXBsaWthc2kuYXBwZW5kKCd5YScpCgllbHNlOgoJCXRhcGxpa2FzaS5hcHBlbmQoJ25vJykKCWd1dyA9ICcjIEVudGVyIHRoZSBsZXR0ZXIgKCB5ICknCglzb2woKS5wcmludChtYXJrKGd1dywgc3R5bGU9J2dyZWVuJykpCglvc2sgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIEVudGVyIDogJykKCWlmIG9zayBpbiBbJ3knLCdZJ106CgkJb3ByZWsuYXBwZW5kKCd5YScpCgllbHNlOgoJCW9wcmVrLmFwcGVuZCgnbm8nKQoKCWd1dyA9ICcjIFNob3cgaGFjayByZXN1bHRzIEVudGVyICh5KScKCXNvbCgpLnByaW50KG1hcmsoZ3V3LCBzdHlsZT0nZ3JlZW4nKSkKCWNwcmVzID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBFbnRlciA6ICcpCglpZiBjcHJlcyBpbiBbJ3knLCdZJ106CgkJcHJpbmNwLmFwcGVuZCgneWEnKQoJZWxzZToKCQlwcmluY3AuYXBwZW5kKCdubycpCglndXcgPSAnIyBEbyB5b3Ugd2FudCB0byBhZGQgYSBtYW51YWwgcGFzc3dvcmQgKHksdCknCglzb2woKS5wcmludChtYXJrKGd1dywgc3R5bGU9J2dyZWVuJykpCglwd3BsdXM9aW5wdXQoeCsnWycrcCsnZicreCsnXSBFbnRlciA6ICcpCglpZiBwd3BsdXMgaW4gWyd5JywnWSddOgoJCXB3cGx1c3MuYXBwZW5kKCd5YScpCgkJa3JlayA9ICdb4oCiXSBHVU5BS0FOIEtPTUEgVU5UVUsgUEVNSVNBSFxuW+KAol0gR1VOQUtBTiBIVVJVRiBLRUNJTFxuW+KAol0gQ09OVE9IOiBpbmRvbmVzaWEsbWVyZGVrYSxtYW50YXAnCgkJY2V0YWsobmVsKGtyZWssIHRpdGxlPScg4oCiIEFERElUSU9OQUwgUEFTU1dPUkQg4oCiICcpKQoJCXB3a3U9aW5wdXQoJ01BU1VLS0FOIFBBU1NXT1JEIFRBTUJBSEFOOiAnKQoJCXB3a3VoPXB3a3Uuc3BsaXQoJywnKQoJCWZvciB4cHcgaW4gcHdrdWg6CgkJCXB3bnlhLmFwcGVuZCh4cHcpCgllbHNlOgoJCXB3cGx1c3MuYXBwZW5kKCdubycpCglwYXNzd3JkKCkKCQoKIyBXT1JETElTVApkZWYgcGFzc3dyZCgpOgoJbGVyID0gJyMgQ1JBQ0sgUFJPQ0VTUyBTVEFSVCwgUFJFU1MgQ1RSTCtaIFRPIFNUT1AnCglzb2woKS5wcmludChtYXJrKGxlciwgc3R5bGU9J2dyZWVuJykpCglrcmVrID0gJ09LIFJFU1VMVFMgU0FWRUQgSU4gOiBJTlRFUk5BTCBNRU1PUlkvNE1CRi1EQVRBL09LLyVzXG5b4oCiXSBDUCBSRVNVTFRTIFNBVkVEIElOIDogSU5URVJOQUwgTUVNT1JZLzRNQkYtREFUQS9DUC8lc1xuW+KAol1NQUlOS0FOIE1PREUgUEVTQVdBVCBKSUtBICBUSURBSyBBREEgSEFTSUwnJShva2MsY3BjKQoJY2V0YWsobmVsKGtyZWssIHRpdGxlPScg4oCiIOKfqCBDUkFDSyBFTUFEIOKfqSDigKIgJykpCgl3aXRoIHRncmVlbihtYXhfd29ya2Vycz0zMCkgYXMgcG9vbDoKCQlmb3IgeXV6b25nIGluIGlkMjoKCQkJaWRmLG5tZiA9IHl1em9uZy5zcGxpdCgnfCcpWzBdLHl1em9uZy5zcGxpdCgnfCcpWzFdLmxvd2VyKCkKCQkJZnJzID0gbm1mLnNwbGl0KCcgJylbMF0KCQkJcHd2ID0gW10KCQkJaWYgbGVuKG5tZik8NjoKCQkJCWlmIGxlbihmcnMpPDM6CgkJCQkJcGFzcwoJCQkJZWxzZToKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzJykKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNCcpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQ1JykKCQkJZWxzZToKCQkJCWlmIGxlbihmcnMpPDM6CgkJCQkJcHd2LmFwcGVuZChubWYpCgkJCQllbHNlOgoJCQkJCXB3di5hcHBlbmQobm1mKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjMnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0JykKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNDUnKQoJCQlpZiAneWEnIGluIHB3cGx1c3M6CgkJCQlmb3IgeHB3ZCBpbiBwd255YToKCQkJCQlwd3YuYXBwZW5kKHhwd2QpCgkJCWVsc2U6cGFzcwoJCQlpZiAnbW9iaWxlJyBpbiBtZXRob2Q6CgkJCQlwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQoJCQllbGlmICdmcmVlJyBpbiBtZXRob2Q6CgkJCQlwb29sLnN1Ym1pdChjcmFja2ZyZWUsaWRmLHB3dikKCQkJZWxpZiAndG91Y2gnIGluIG1ldGhvZDoKCQkJCXBvb2wuc3VibWl0KGNyYWNrdG91Y2gsaWRmLHB3dikKCQkJZWxpZiAnbWJhc2ljJyBpbiBtZXRob2Q6CgkJCQlwb29sLnN1Ym1pdChjcmFja21iYXNpYyxpZGYscHd2KQoJCQllbHNlOgoJCQkJcG9vbC5zdWJtaXQoY3JhY2ttYmFzaWMsaWRmLHB3dikKCXByaW50KCcnKQoJdGFueWEgPSAnIyBZb3Ugd2FudCB0byBzaG93IHRoZSByZXN1bHRzIG9mIHRoZSBoYWNrLCBlbnRlciAoeSknCglzb2woKS5wcmludChtYXJrKHRhbnlhLCBzdHlsZT0nZ3JlZW4nKSkKCXdvaSA9IGlucHV0KHgrJ1vigKJdIEVudGVyIDogJykKCWlmIHdvaSBpbiBbJ3knLCdZJ106CgkJY2VrX29wc2koKQoJZWxzZToKCQlleGl0KCkKCiMgQ1JBQ0tFUgpkZWYgY3JhY2soaWRmLHB3dik6CglnbG9iYWwgbG9vcCxvayxjcAoJYmkgPSByYW5kb20uY2hvaWNlKFt1LGssa2ssYixoLGhoXSkKCXBlcnMgPSBsb29wKjEwMC9sZW4oaWQyKQoJZmZmID0gJyUnCgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCXByaW50KCdcciBbJXPil49cMzNbbV0gJXMvJXMg8J+YjiBceDFiWzE7OTJtU0VEQU5HOlslc10g8J+YjiBceDFiWzE7OTNtQ1JBQ0s6WyVzXSAlcyVzJXMnJShiaSxsb29wLGxlbihpZDIpLG9rLGNwLGludChwZXJzKSxzdHIoZmZmKSx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpCglmb3IgcHcgaW4gcHd2OgoJCXRyeToKCQkJbmlwPXJhbmRvbS5jaG9pY2UocHJveCkKCQkJcHJveHM9IHsnaHR0cCc6ICdzb2NrczQ6Ly8nK25pcH0KCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsnSG9zdCc6ICdtLmZhY2Vib29rLmNvbScsJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsJ3VzZXItYWdlbnQnOiB1YSwnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43J30pCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL20uZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mbmV4dD1odHRwcyUzQSUyRiUyRm0uZmFjZWJvb2suY29tJTJGdjIuMyUyRmRpYWxvZyUyRm9hdXRoJTNGYXBwX2lkJTNEMTI0MDI0NTc0Mjg3NDE0JTI2Y2J0JTNEMTY1MTY1ODIwMDk3OCUyNmUyZSUzRCUyNTdCJTI1MjJpbml0JTI1MjIlMjUzQTE2NTE2NTgyMDA5NzglMjU3RCUyNnNzbyUzRGNocm9tZV9jdXN0b21fdGFiJTI2c2NvcGUlM0RlbWFpbCUyNnN0YXRlJTNEJTI1N0IlMjUyMjBfYXV0aF9sb2dnZXJfaWQlMjUyMiUyNTNBJTI1MjI2OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYlMjUyMiUyNTJDJTI1MjI3X2NoYWxsZW5nZSUyNTIyJTI1M0ElMjUyMmRhaGoyOGhxdGlldG1ocmdwcnBwJTI1MjIlMjUyQyUyNTIyM19tZXRob2QlMjUyMiUyNTNBJTI1MjJjdXN0b21fdGFiJTI1MjIlMjU3RCUyNmdyZWVuaXJlY3RfdXJpJTNEZmJjb25uZWN0JTI1M0ElMjUyRiUyNTJGY2N0LmNvbS5pbnN0YXRodW5kZXIuYXBwJTI2cmVzcG9uc2VfdHlwZSUzRHRva2VuJTI1MkNzaWduZWRfcmVxdWVzdCUyNTJDZ3JhcGhfZG9tYWluJTI1MkNncmFudGVkX3Njb3BlcyUyNnJldHVybl9zY29wZXMlM0R0cnVlJTI2cmV0JTNEbG9naW4lMjZmYmFwcF9wcmVzJTNEMCUyNmxvZ2dlcl9pZCUzRDY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNnRwJTNEdW5zcGVjaWZpZWQmY2FuY2VsX3VybD1mYmNvbm5lY3QlM0ElMkYlMkZjY3QuY29tLmluc3RhdGh1bmRlci5hcHAlM0ZlcnJvciUzRGFjY2Vzc19kZW5pZWQlMjZlcnJvcl9jb2RlJTNEMjAwJTI2ZXJyb3JfZGVzY3JpcHRpb24lM0RQZXJtaXNzaW9ucyUyQmVycm9yJTI2ZXJyb3JfcmVhc29uJTNEdXNlcl9kZW5pZWQlMjZzdGF0ZSUzRCUyNTdCJTI1MjIwX2F1dGhfbG9nZ2VyX2lkJTI1MjIlMjUzQSUyNTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTI1MjIlMjUyQyUyNTIyN19jaGFsbGVuZ2UlMjUyMiUyNTNBJTI1MjJkYWhqMjhocXRpZXRtaHJncHJwcCUyNTIyJTI1MkMlMjUyMjNfbWV0aG9kJTI1MjIlMjUzQSUyNTIyY3VzdG9tX3RhYiUyNTIyJTI1N0QmZGlzcGxheT10b3VjaCZsb2NhbGU9aWRfSUQmcGxfZGJsPTAmcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL20uZmFjZWJvb2suY29tL3YyLjMvZGlhbG9nL29hdXRoP2FwcF9pZD0xMjQwMjQ1NzQyODc0MTQmY2J0PTE2NTE2NTgyMDA5NzgmZTJlPSU3QiUyMmluaXQlMjIlM0ExNjUxNjU4MjAwOTc4JTdEJnNzbz1jaHJvbWVfY3VzdG9tX3RhYiZzY29wZT1lbWFpbCZzdGF0ZT0lN0IlMjIwX2F1dGhfbG9nZ2VyX2lkJTIyJTNBJTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTIyJTJDJTIyN19jaGFsbGVuZ2UlMjIlM0ElMjJkYWhqMjhocXRpZXRtaHJncHJwcCUyMiUyQyUyMjNfbWV0aG9kJTIyJTNBJTIyY3VzdG9tX3RhYiUyMiU3RCZncmVlbmlyZWN0X3VyaT1mYmNvbm5lY3QlM0ElMkYlMkZjY3QuY29tLmluc3RhdGh1bmRlci5hcHAmcmVzcG9uc2VfdHlwZT10b2tlbiUyQ3NpZ25lZF9yZXF1ZXN0JTJDZ3JhcGhfZG9tYWluJTJDZ3JhbnRlZF9zY29wZXMmcmV0dXJuX3Njb3Blcz10cnVlJnJldD1sb2dpbiZmYmFwcF9wcmVzPTAmbG9nZ2VyX2lkPTY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiZ0cD11bnNwZWNpZmllZCIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9CgkJCWtva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBwLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicKCQkJaGVhZGU9eydIb3N0JzogJ20uZmFjZWJvb2suY29tJywnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLCdzZWMtY2gtdWEnOiAnIiBOb3QgQTtCcmFuZCI7dj0iOTkiLCAiQ2hyb21pdW0iO3Y9Ijk4IicsJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnIkFuZHJvaWQiJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywnb3JpZ2luJzogJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20nLCdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywncmVmZXJlcic6ICdodHRwczovL20uZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mbmV4dD1odHRwcyUzQSUyRiUyRm0uZmFjZWJvb2suY29tJTJGdjIuMyUyRmRpYWxvZyUyRm9hdXRoJTNGYXBwX2lkJTNEMTI0MDI0NTc0Mjg3NDE0JTI2Y2J0JTNEMTY1MTY1ODIwMDk3OCUyNmUyZSUzRCUyNTdCJTI1MjJpbml0JTI1MjIlMjUzQTE2NTE2NTgyMDA5NzglMjU3RCUyNnNzbyUzRGNocm9tZV9jdXN0b21fdGFiJTI2c2NvcGUlM0RlbWFpbCUyNnN0YXRlJTNEJTI1N0IlMjUyMjBfYXV0aF9sb2dnZXJfaWQlMjUyMiUyNTNBJTI1MjI2OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYlMjUyMiUyNTJDJTI1MjI3X2NoYWxsZW5nZSUyNTIyJTI1M0ElMjUyMmRhaGoyOGhxdGlldG1ocmdwcnBwJTI1MjIlMjUyQyUyNTIyM19tZXRob2QlMjUyMiUyNTNBJTI1MjJjdXN0b21fdGFiJTI1MjIlMjU3RCUyNmdyZWVuaXJlY3RfdXJpJTNEZmJjb25uZWN0JTI1M0ElMjUyRiUyNTJGY2N0LmNvbS5pbnN0YXRodW5kZXIuYXBwJTI2cmVzcG9uc2VfdHlwZSUzRHRva2VuJTI1MkNzaWduZWRfcmVxdWVzdCUyNTJDZ3JhcGhfZG9tYWluJTI1MkNncmFudGVkX3Njb3BlcyUyNnJldHVybl9zY29wZXMlM0R0cnVlJTI2cmV0JTNEbG9naW4lMjZmYmFwcF9wcmVzJTNEMCUyNmxvZ2dlcl9pZCUzRDY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNnRwJTNEdW5zcGVjaWZpZWQmY2FuY2VsX3VybD1mYmNvbm5lY3QlM0ElMkYlMkZjY3QuY29tLmluc3RhdGh1bmRlci5hcHAlM0ZlcnJvciUzRGFjY2Vzc19kZW5pZWQlMjZlcnJvcl9jb2RlJTNEMjAwJTI2ZXJyb3JfZGVzY3JpcHRpb24lM0RQZXJtaXNzaW9ucyUyQmVycm9yJTI2ZXJyb3JfcmVhc29uJTNEdXNlcl9kZW5pZWQlMjZzdGF0ZSUzRCUyNTdCJTI1MjIwX2F1dGhfbG9nZ2VyX2lkJTI1MjIlMjUzQSUyNTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTI1MjIlMjUyQyUyNTIyN19jaGFsbGVuZ2UlMjUyMiUyNTNBJTI1MjJkYWhqMjhocXRpZXRtaHJncHJwcCUyNTIyJTI1MkMlMjUyMjNfbWV0aG9kJTI1MjIlMjUzQSUyNTIyY3VzdG9tX3RhYiUyNTIyJTI1N0QmZGlzcGxheT10b3VjaCZsb2NhbGU9aWRfSUQmcGxfZGJsPTAmcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicsJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9CgkJCXBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAmbG9jYWxlMj1pZF9JRCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19ncmVlbmlyZWN0cz1GYWxzZSxwcm94aWVzPXByb3hzKQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWlmICd5YScgaW4gb3ByZWs6CgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljZWtlcihpZGYscHcpCgkJCQllbGlmICd5YScgaW4gcHJpbmNwOgoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzY3AgPSBmJ1vigKJdIElEICAgOiB7aWRmfSBb4oCiXSBQQVNTV09SRCA6IHtwd30nCgkJCQkJc3RhdHVzY3AxID0gbmVsKHN0YXR1c2NwLCBzdHlsZT0neWVsbG93JykKCQkJCQljZXRhayhuZWwoc3RhdHVzY3AxLCB0aXRsZT0nQkFaIENQJykpCgkJCQkJb3BlbignL3NkY2FyZC80TUJGLURBVEEvQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljcCs9MQoJCQkJZWxzZTpjb250aW51ZQoJCQkJYnJlYWsKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWhlYWRhcHA9eyJ1c2VyLWFnZW50IjoiU3VwcG9ydHNGcmVzY289MSBEYWx2aWsvMi4xLjAgKExpbnV4OyBVOyBBbmRyb2lkIDYuMC4xOyBTTS1KMjEwRiBCdWlsZC9NTUIyOVEpIFNvdXJjZS8xIFtGQkFOL0VNQTtVTklUWV9QQUNLQUdFLzM0MjtGQkJWLzEwNzU4NjcwNjtGQkFWLzE3Mi4wLjAuOC4xODI7RkJEVi9TTS1KMjEwRjtGQkxDL2lkX0lEO0ZCT1AvMjBdIn0KCQkJCWlmICdubycgaW4gdGFwbGlrYXNpOgoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJCW9wZW4oJy9zZGNhcmQvNE1CRi1EQVRBL09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcra3VraSsnXG4nKQoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzb2sgPSBmJ1vigKJdIElEICAgOiB7aWRmfVxuW+KAol0gUEFTU1dPUkQgOiB7cHd9XG5b4oCiXSBDT09LSUVTICA6IHtrdWtpfScKCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J0JBWiBPSycpKQoJCQkJCW9rKz0xCgkJCQkJYnJlYWsKCQkJCWVsaWYgJ3lhJyBpbiB0YXBsaWthc2k6CgkJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkKCQkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCQkJb3BlbignL3NkY2FyZC80TUJGLURBVEEvT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpCgkJCQkJdXNlcj1pZGYKCQkJCQlpbmZvYWt1biA9ICIiCgkJCQkJc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQoJCQkJCWNlazIgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9aW5hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQljZWsgPXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQlpbmZvYWt1biArPSAoZiJcbltib2xkIGdyZWVuXVvigKJdIExJU1QgQUNUSVZFIEFQUExJQ0FUSU9OUyA6Wy9ib2xkIGdyZWVuXSBcbiIpCgkJCQkJYXBrYWt0aWY9cmUuZmluZGFsbCgnPC9pPjxkaXYgY2xhc3M9Ii4qPyI+PHNwYW4gY2xhc3M9Ii4qPyI+KC4qPyk8L3NwYW4+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSIuKj8iPiguKj8pPC9kaXY+PC9kaXY+JyxzdHIoY2VrKSkKCQkJCQlub2s9MQoJCQkJCWZvciBtdW5jdWwgaW4gYXBrYWt0aWY6CgkJCQkJCWluZm9ha3VuKz0gKGYiW2JvbGQgZ3JlZW5be25va31dIHttdW5jdWxbMF19IHttdW5jdWxbMV19Wy9ib2xkIHllbGxvd11cbiIpCgkJCQkJCW5vays9MQoKCQkJCQloaXQ9MAoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgZ3JlZW5dW+KAol0gTElTVCBFWFBJZ3JlZW4gQVBQTElDQVRJT05TIDpbL2JvbGQgeWVsbG93XVxuIikKCQkJCQlhcGtleHA9cmUuZmluZGFsbCgnPC9pPjxkaXYgY2xhc3M9Ii4qPyI+PHNwYW4gY2xhc3M9Ii4qPyI+KC4qPyk8L3NwYW4+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSIuKj8iPiguKj8pPC9kaXY+PC9kaXY+JyxzdHIoY2VrMikpCgkJCQkJaGl0PTAKCQkJCQlmb3IgbXVuY3VsIGluIGFwa2V4cDoKCQkJCQkJaGl0Kz0xCgkJCQkJCWluZm9ha3VuICs9IChmIltib2xkIHllbGxvd11be2hpdH1dIHttdW5jdWxbMF19IHttdW5jdWxbMV19Wy9ib2xkIHllbGxvd11cbiIpCgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNvayA9IGYnW2JvbGQgZ3JlZW5dW+KAol0gSUQgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9Wy9ib2xkIHllbGxvd11cbntpbmZvYWt1bn0nCgkJCQkJc3RhdHVzb2sxID0gbmVsKHN0YXR1c29rLCBzdHlsZT0nZ3JlZW4nKQoJCQkJCWNldGFrKG5lbChzdGF0dXNvazEsIHRpdGxlPSdbYm9sZCBncmVlbl1CQVogT0tbL2JvbGQgZ3JlZW5dJykpCgkJCQkJb2srPTEKCQkJCQlicmVhawoKCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKCgpkZWYgY3JhY2tmcmVlKGlkZixwd3YpOgoJZ2xvYmFsIGxvb3Asb2ssY3AKCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pCglwZXJzID0gbG9vcCoxMDAvbGVuKGlkMikKCWZmZiA9ICclJwoJbmlwPXJhbmRvbS5jaG9pY2UocHJveCkKCXByb3hzPSB7J2h0dHAnOiAnc29ja3M1Oi8vJytuaXB9Cgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCXByaW50KCdcciBbJXPil49cMzNbbV0gJXMvJXMg8J+YmCBceDFiWzE7OTJtT0s6WyVzXSDwn5iKIFx4MWJbMTs5M21DUDpbJXNdICVzJXMlcyclKGJpLGxvb3AsbGVuKGlkMiksb2ssY3AsaW50KHBlcnMpLHN0cihmZmYpLHgpLCBlbmQ9JyAnKTtzeXMuc3Rkb3V0LmZsdXNoKCkKCWZvciBwdyBpbiBwd3Y6CgkJdHJ5OgoJCQlzZXMuaGVhZGVycy51cGRhdGUoeydIb3N0JzogJ2ZyZWUuZmFjZWJvb2suY29tJywnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywndXNlci1hZ2VudCc6IHVhMiwnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43J30pCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9CgkJCWtva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBwLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicKCQkJaGVhZGU9eydIb3N0JzogJ2ZyZWUuZmFjZWJvb2suY29tJywnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLCdzZWMtY2gtdWEnOiAnIiBOb3QgQTtCcmFuZCI7dj0iOTkiLCAiQ2hyb21pdW0iO3Y9Ijk4IicsJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnIkFuZHJvaWQiJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywnb3JpZ2luJzogJ2h0dHBzOi8vZnJlZS5mYWNlYm9vay5jb20nLCdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywncmVmZXJlcic6ICdodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicsJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsJ2FjY2VwdC1sYW5ndWFnZSc6ICdtcy1NWSxtcztxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycsJ2Nvbm5lY3Rpb24nOiAnY2xvc2UnfQoJCQlwbyA9IHNlcy5wb3N0KCdodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGNvb2tpZXM9eydjb29raWUnOiBrb2tpfSxoZWFkZXJzPWhlYWRlLGFsbG93X2dyZWVuaXJlY3RzPUZhbHNlLHByb3hpZXM9cHJveHMpCgkJCWlmICJjaGVja3BvaW50IiBpbiBwby5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQkJaWYgJ3lhJyBpbiBvcHJlazoKCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJCWNla2VyKGlkZixwdykKCQkJCWVsaWYgJ3lhJyBpbiBwcmluY3A6CgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNjcCA9IGYnW+KAol0gSUQgICA6IHtpZGZ9IFvigKJdIFBBU1NXT1JEIDoge3B3fScKCQkJCQlzdGF0dXNjcDEgPSBuZWwoc3RhdHVzY3AsIHN0eWxlPSd5ZWxsb3cnKQoJCQkJCWNldGFrKG5lbChzdGF0dXNjcDEsIHRpdGxlPSdCQVogQ1AnKSkKCQkJCQlvcGVuKCcvc2RjYXJkLzRNQkYtREFUQS9DUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykKCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJCWNwKz0xCgkJCQllbHNlOmNvbnRpbnVlCgkJCQlicmVhawoJCQllbGlmICJjX3VzZXIiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQkJaGVhZGFwcD17InVzZXItYWdlbnQiOiJTdXBwb3J0c0ZyZXNjbz0xIERhbHZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQgNi4wLjE7IFNNLUoyMTBGIEJ1aWxkL01NQjI5USkgU291cmNlLzEgW0ZCQU4vRU1BO1VOSVRZX1BBQ0tBR0UvMzQyO0ZCQlYvMTA3NTg2NzA2O0ZCQVYvMTcyLjAuMC44LjE4MjtGQkRWL1NNLUoyMTBGO0ZCTEMvaWRfSUQ7RkJPUC8yMF0ifQoJCQkJaWYgJ25vJyBpbiB0YXBsaWthc2k6CgkJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkKCQkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCQkJb3BlbignL3NkY2FyZC80TUJGLURBVEEvT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpCgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNvayA9IGYnW+KAol0gSUQgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nQkFaIE9LJykpCgkJCQkJb2srPTEKCQkJCQlicmVhawoJCQkJZWxpZiAneWEnIGluIHRhcGxpa2FzaToKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCcvc2RjYXJkLzRNQkYtREFUQS9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQl1c2VyPWlkZgoJCQkJCWluZm9ha3VuID0gIiIKCQkJCQlzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCQkJY2VrMiA9IHNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dAoJCQkJCWNlayA9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dAoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgZ3JlZW5dW+KAol0gTElTVCBBQ1RJVkUgQVBQTElDQVRJT05TIDpbL2JvbGQgZ3JlZW5dIFxuIikKCQkJCQlhcGtha3RpZj1yZS5maW5kYWxsKCc8L2k+PGRpdiBjbGFzcz0iLio/Ij48c3BhbiBjbGFzcz0iLio/Ij4oLio/KTwvc3Bhbj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9Ii4qPyI+KC4qPyk8L2Rpdj48L2Rpdj4nLHN0cihjZWspKQoJCQkJCW5vaz0xCgkJCQkJZm9yIG11bmN1bCBpbiBhcGtha3RpZjoKCQkJCQkJaW5mb2FrdW4rPSAoZiJbYm9sZCB5ZWxsb3ddW3tub2t9XSB7bXVuY3VsWzBdfSB7bXVuY3VsWzFdfVsvYm9sZCB5ZWxsb3ddXG4iKQoJCQkJCQlub2srPTEKCgkJCQkJaGl0PTAKCQkJCQlpbmZvYWt1biArPSAoZiJcbltib2xkIGdyZWVuXVvigKJdIExJU1QgRVhQSWdyZWVuIEFQUExJQ0FUSU9OUyA6Wy9ib2xkIHllbGxvd11cbiIpCgkJCQkJYXBrZXhwPXJlLmZpbmRhbGwoJzwvaT48ZGl2IGNsYXNzPSIuKj8iPjxzcGFuIGNsYXNzPSIuKj8iPiguKj8pPC9zcGFuPjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iLio/Ij4oLio/KTwvZGl2PjwvZGl2Picsc3RyKGNlazIpKQoJCQkJCWhpdD0wCgkJCQkJZm9yIG11bmN1bCBpbiBhcGtleHA6CgkJCQkJCWhpdCs9MQoJCQkJCQlpbmZvYWt1biArPSAoZiJbYm9sZCB5ZWxsb3ddW3toaXR9XSB7bXVuY3VsWzBdfSB7bXVuY3VsWzFdfVsvYm9sZCB5ZWxsb3ddXG4iKQoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzb2sgPSBmJ1tib2xkIGdyZWVuXVvigKJdIElEICAgOiB7aWRmfVxuW+KAol0gUEFTU1dPUkQgOiB7cHd9XG5b4oCiXSBDT09LSUVTICA6IHtrdWtpfVsvYm9sZCB5ZWxsb3ddXG57aW5mb2FrdW59JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nW2JvbGQgZ3JlZW5dQkFaIE9LWy9ib2xkIGdyZWVuXScpKQoJCQkJCW9rKz0xCgkJCQkJYnJlYWsKCgoJCQllbHNlOgoJCQkJY29udGludWUKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCXRpbWUuc2xlZXAoMzEpCglsb29wKz0xCgoKZGVmIGNyYWNrdG91Y2goaWRmLHB3dik6CglnbG9iYWwgbG9vcCxvayxjcAoJYmkgPSByYW5kb20uY2hvaWNlKFt1LGssa2ssYixoLGhoXSkKCXBlcnMgPSBsb29wKjEwMC9sZW4oaWQyKQoJZmZmID0gJyUnCgluaXA9cmFuZG9tLmNob2ljZShwcm94KQoJcHJveHM9IHsnaHR0cCc6ICdzb2NrczU6Ly8nK25pcH0KCXVhID0gcmFuZG9tLmNob2ljZSh1Z2VuKQoJdWEyID0gcmFuZG9tLmNob2ljZSh1Z2VuMikKCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJcHJpbnQoJ1xyIFslc+KXj1wzM1ttXSAlcy8lcyDwn5iYIFx4MWJbMTs5Mm1PSzpbJXNdIPCfmIogXHgxYlsxOzkzbUNQOlslc10gJXMlcyVzJyUoYmksbG9vcCxsZW4oaWQyKSxvayxjcCxpbnQocGVycyksc3RyKGZmZikseCksIGVuZD0nICcpO3N5cy5zdGRvdXQuZmx1c2goKQoJZm9yIHB3IGluIHB3djoKCQl0cnk6CgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7J0hvc3QnOiAndG91Y2guZmFjZWJvb2suY29tJywnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45Jywnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLCdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJywnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnfSkKCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vdG91Y2guZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL3RvdWNoLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQoJCQlrb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gcC5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQlrb2tpKz0nIG1fcGl4ZWxfcmF0aW89Mi42MjU7IHdkPTQxMng3NTYnCgkJCWhlYWRlPXsnSG9zdCc6ICd0b3VjaC5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YSc6ICciIE5vdCBBO0JyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iOTgiJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciQW5kcm9pZCInLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCdvcmlnaW4nOiAnaHR0cHM6Ly90b3VjaC5mYWNlYm9vay5jb20nLCdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywncmVmZXJlcic6ICdodHRwczovL3RvdWNoLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInLCdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnZnJfRlIsZnI7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnLCdjb25uZWN0aW9uJzogJ2Nsb3NlJ30KCQkJcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly90b3VjaC5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfZ3JlZW5pcmVjdHM9RmFsc2UscHJveGllcz1wcm94cykKCQkJaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlpZiAneWEnIGluIG9wcmVrOgoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY2VrZXIoaWRmLHB3KQoJCQkJZWxpZiAneWEnIGluIHByaW5jcDoKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c2NwID0gZidb4oCiXSBJRCAgIDoge2lkZn0gW+KAol0gUEFTU1dPUkQgOiB7cHd9JwoJCQkJCXN0YXR1c2NwMSA9IG5lbChzdGF0dXNjcCwgc3R5bGU9J3llbGxvdycpCgkJCQkJY2V0YWsobmVsKHN0YXR1c2NwMSwgdGl0bGU9J0JBWiBDUCcpKQoJCQkJCW9wZW4oJy9zZGNhcmQvNE1CRi1EQVRBL0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY3ArPTEKCQkJCWVsc2U6Y29udGludWUKCQkJCWJyZWFrCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQloZWFkYXBwPXsidXNlci1hZ2VudCI6IlN1cHBvcnRzRnJlc2NvPTEgRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCA2LjAuMTsgU00tSjIxMEYgQnVpbGQvTU1CMjlRKSBTb3VyY2UvMSBbRkJBTi9FTUE7VU5JVFlfUEFDS0FHRS8zNDI7RkJCVi8xMDc1ODY3MDY7RkJBVi8xNzIuMC4wLjguMTgyO0ZCRFYvU00tSjIxMEY7RkJMQy9pZF9JRDtGQk9QLzIwXSJ9CgkJCQlpZiAnbm8nIGluIHRhcGxpa2FzaToKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCcvc2RjYXJkLzRNQkYtREFUQS9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCAgIDoge2lkZn1cblvigKJdIFBBU1NXT1JEIDoge3B3fVxuW+KAol0gQ09PS0lFUyAgOiB7a3VraX0nCgkJCQkJc3RhdHVzb2sxID0gbmVsKHN0YXR1c29rLCBzdHlsZT0nZ3JlZW4nKQoJCQkJCWNldGFrKG5lbChzdGF0dXNvazEsIHRpdGxlPSdCQVogT0snKSkKCQkJCQlvays9MQoJCQkJCWJyZWFrCgkJCQllbGlmICd5YScgaW4gdGFwbGlrYXNpOgoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJCW9wZW4oJy9zZGNhcmQvNE1CRi1EQVRBL09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcra3VraSsnXG4nKQoJCQkJCXVzZXI9aWRmCgkJCQkJaW5mb2FrdW4gPSAiIgoJCQkJCXNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJCQljZWsyID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0CgkJCQkJY2VrID1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0CgkJCQkJaW5mb2FrdW4gKz0gKGYiXG5bYm9sZCBncmVlbl1b4oCiXSBMSVNUIEFDVElWRSBBUFBMSUNBVElPTlMgOlsvYm9sZCBncmVlbl0gXG4iKQoJCQkJCWFwa2FrdGlmPXJlLmZpbmRhbGwoJzwvaT48ZGl2IGNsYXNzPSIuKj8iPjxzcGFuIGNsYXNzPSIuKj8iPiguKj8pPC9zcGFuPjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iLio/Ij4oLio/KTwvZGl2PjwvZGl2Picsc3RyKGNlaykpCgkJCQkJbm9rPTEKCQkJCQlmb3IgbXVuY3VsIGluIGFwa2FrdGlmOgoJCQkJCQlpbmZvYWt1bis9IChmIltib2xkIGdyZWVuXVt7bm9rfV0ge211bmN1bFswXX0ge211bmN1bFsxXX1bL2JvbGQgeWVsbG93XVxuIikKCQkJCQkJbm9rKz0xCgoJCQkJCWhpdD0wCgkJCQkJaW5mb2FrdW4gKz0gKGYiXG5bYm9sZCB5ZWxsb3ddW+KAol0gTElTVCBFWFBJZ3JlZW4gQVBQTElDQVRJT05TIDpbL2JvbGQgeWVsbG93XVxuIikKCQkJCQlhcGtleHA9cmUuZmluZGFsbCgnPC9pPjxkaXYgY2xhc3M9Ii4qPyI+PHNwYW4gY2xhc3M9Ii4qPyI+KC4qPyk8L3NwYW4+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSIuKj8iPiguKj8pPC9kaXY+PC9kaXY+JyxzdHIoY2VrMikpCgkJCQkJaGl0PTAKCQkJCQlmb3IgbXVuY3VsIGluIGFwa2V4cDoKCQkJCQkJaGl0Kz0xCgkJCQkJCWluZm9ha3VuICs9IChmIltib2xkIHllbGxvd11be2hpdH1dIHttdW5jdWxbMF19IHttdW5jdWxbMV19Wy9ib2xkIHllbGxvd11cbiIpCgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNvayA9IGYnW2JvbGQgZ3JlZW5dW+KAol0gSUQgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9Wy9ib2xkIHllbGxvd11cbntpbmZvYWt1bn0nCgkJCQkJc3RhdHVzb2sxID0gbmVsKHN0YXR1c29rLCBzdHlsZT0nZ3JlZW4nKQoJCQkJCWNldGFrKG5lbChzdGF0dXNvazEsIHRpdGxlPSdbYm9sZCBncmVlbl1CQVogT0tbL2JvbGQgZ3JlZW5dJykpCgkJCQkJb2srPTEKCQkJCQlicmVhawoKCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKZGVmIGNyYWNrbWJhc2ljKGlkZixwd3YpOgoJZ2xvYmFsIGxvb3Asb2ssY3AKCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pCglwZXJzID0gbG9vcCoxMDAvbGVuKGlkMikKCWZmZiA9ICclJwoJbmlwPXJhbmRvbS5jaG9pY2UocHJveCkKCXByb3hzPSB7J2h0dHAnOiAnc29ja3M1Oi8vJytuaXB9Cgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCXByaW50KCdcciBbJXPil49cMzNbbV0gJXMvJXMg8J+YmCBceDFiWzE7OTJtT0s6WyVzXSDwn5iKIFx4MWJbMTs5M21DUDpbJXNdICVzJXMlcyclKGJpLGxvb3AsbGVuKGlkMiksb2ssY3AsaW50KHBlcnMpLHN0cihmZmYpLHgpLCBlbmQ9JyAnKTtzeXMuc3Rkb3V0LmZsdXNoKCkKCWZvciBwdyBpbiBwd3Y6CgkJdHJ5OgoJCQlzZXMuaGVhZGVycy51cGRhdGUoeydIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCd1c2VyLWFnZW50JzogdWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9KQoJCQlwID0gc2VzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vc2F2ZS1kZXZpY2UvIiwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnB3LH0KCQkJa29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJa29raSs9JyBtX3BpeGVsX3JhdGlvPTIuNjI1OyB3ZD00MTJ4NzU2JwoJCQloZWFkZT17J0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywnc2VjLWNoLXVhJzogJyIgTm90IEE7QnJhbmQiO3Y9Ijk5IiwgIkNocm9taXVtIjt2PSI5OCInLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywnc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJBbmRyb2lkIicsJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsJ29yaWdpbic6ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nLCdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywncmVmZXJlcic6ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3Bhc3N3b3JkLz91aWQ9JytpZGYrJyZmbG93PWxvZ2luX25vX3BpbiZyZWZzcmM9ZGVwcmVjYXRlZCZfcmRyJywnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUsIGJyJywnYWNjZXB0LWxhbmd1YWdlJzogJ2ZyX0ZSLGZyO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JywnY29ubmVjdGlvbic6ICdjbG9zZSd9CgkJCXBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19ncmVlbmlyZWN0cz1GYWxzZSxwcm94aWVzPXByb3hzKQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWlmICd5YScgaW4gb3ByZWs6CgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljZWtlcihpZGYscHcpCgkJCQllbGlmICd5YScgaW4gcHJpbmNwOgoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzY3AgPSBmJ1vigKJdIElEICAgOiB7aWRmfSBb4oCiXSBQQVNTV09SRCA6IHtwd30nCgkJCQkJc3RhdHVzY3AxID0gbmVsKHN0YXR1c2NwLCBzdHlsZT0neWVsbG93JykKCQkJCQljZXRhayhuZWwoc3RhdHVzY3AxLCB0aXRsZT0nQkFaIENQJykpCgkJCQkJb3BlbignL3NkY2FyZC80TUJGLURBVEEvQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljcCs9MQoJCQkJZWxzZTpjb250aW51ZQoJCQkJYnJlYWsKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWhlYWRhcHA9eyJ1c2VyLWFnZW50IjoiU3VwcG9ydHNGcmVzY289MSBEYWx2aWsvMi4xLjAgKExpbnV4OyBVOyBBbmRyb2lkIDYuMC4xOyBTTS1KMjEwRiBCdWlsZC9NTUIyOVEpIFNvdXJjZS8xIFtGQkFOL0VNQTtVTklUWV9QQUNLQUdFLzM0MjtGQkJWLzEwNzU4NjcwNjtGQkFWLzE3Mi4wLjAuOC4xODI7RkJEVi9TTS1KMjEwRjtGQkxDL2lkX0lEO0ZCT1AvMjBdIn0KCQkJCWlmICdubycgaW4gdGFwbGlrYXNpOgoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJCW9wZW4oJy9zZGNhcmQvNE1CRi1EQVRBL09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcra3VraSsnXG4nKQoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzb2sgPSBmJ1vigKJdIElEICAgOiB7aWRmfVxuW+KAol0gUEFTU1dPUkQgOiB7cHd9XG5b4oCiXSBDT09LSUVTICA6IHtrdWtpfScKCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J09LJykpCgkJCQkJb2srPTEKCQkJCQlicmVhawoJCQkJZWxpZiAneWEnIGluIHRhcGxpa2FzaToKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCcvc2RjYXJkLzRNQkYtREFUQS9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQl1c2VyPWlkZgoJCQkJCWluZm9ha3VuID0gIiIKCQkJCQlzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCQkJY2VrMiA9IHNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dAoJCQkJCWNlayA9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dAoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgZ3JlZW5dW+KAol0gTElTVCBBQ1RJVkUgQVBQTElDQVRJT05TIDpbL2JvbGQgZ3JlZW5dIFxuIikKCQkJCQlhcGtha3RpZj1yZS5maW5kYWxsKCc8L2k+PGRpdiBjbGFzcz0iLio/Ij48c3BhbiBjbGFzcz0iLio/Ij4oLio/KTwvc3Bhbj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9Ii4qPyI+KC4qPyk8L2Rpdj48L2Rpdj4nLHN0cihjZWspKQoJCQkJCW5vaz0xCgkJCQkJZm9yIG11bmN1bCBpbiBhcGtha3RpZjoKCQkJCQkJaW5mb2FrdW4rPSAoZiJbYm9sZCBncmVlbl1be25va31dIHttdW5jdWxbMF19IHttdW5jdWxbMV19Wy9ib2xkIGdyZWVuXVxuIikKCQkJCQkJbm9rKz0xCgoJCQkJCWhpdD0wCgkJCQkJaW5mb2FrdW4gKz0gKGYiXG5bYm9sZCB5ZWxsb3ddW+KAol0gTElTVCBFWFBJZ3JlZW4gQVBQTElDQVRJT05TIDpbL2JvbGQgeWVsbG93XVxuIikKCQkJCQlhcGtleHA9cmUuZmluZGFsbCgnPC9pPjxkaXYgY2xhc3M9Ii4qPyI+PHNwYW4gY2xhc3M9Ii4qPyI+KC4qPyk8L3NwYW4+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSIuKj8iPiguKj8pPC9kaXY+PC9kaXY+JyxzdHIoY2VrMikpCgkJCQkJaGl0PTAKCQkJCQlmb3IgbXVuY3VsIGluIGFwa2V4cDoKCQkJCQkJaGl0Kz0xCgkJCQkJCWluZm9ha3VuICs9IChmIltib2xkIHllbGxvd11be2hpdH1dIHttdW5jdWxbMF19IHttdW5jdWxbMV19Wy9ib2xkIHllbGxvd11cbiIpCgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNvayA9IGYnW2JvbGQgZ3JlZW5dW+KAol0gSUQgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9Wy9ib2xkIHllbGxvd11cbntpbmZvYWt1bn0nCgkJCQkJc3RhdHVzb2sxID0gbmVsKHN0YXR1c29rLCBzdHlsZT0nZ3JlZW4nKQoJCQkJCWNldGFrKG5lbChzdGF0dXNvazEsIHRpdGxlPSdbYm9sZCBncmVlbl1CQVogT0tbL2JvbGQgZ3JlZW5dJykpCgkJCQkJb2srPTEKCQkJCQlicmVhawoKCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKCiMgT1BTSQpkZWYgY2VrZXIoaWRmLHB3KToKCWdsb2JhbCBjcAoJdWEgPSAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjEyOCBTYWZhcmkvNTM3LjM2IEZCTUYvSFVBV0VJO0ZCQkQvSFVBV0VJO0ZCUE4vY29tLmZhY2Vib29rLnNlcnZpY2VzO0ZCRFYvRVZSLUwyOTtGQlNWLzEwO0ZCTFIvMDtGQkJLLzE7RkJDQS9hcm02NC12OGE6O10nCgloZWFkID0geyJIb3N0IjogIm1iYXNpYy5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsIm9yaWdpbiI6ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6IHVhLCJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiAibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjogIm5hdmlnYXRlIiwic2VjLWZldGNoLXVzZXIiOiAiPzEiLCJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsInJlZmVyZXIiOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJdHJ5OgoJCWhpID0gc2VzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykKCQlobyA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGE9eydlbWFpbCc6aWRmLCdwYXNzJzpwdywnbG9naW4nOidzdWJtaXQnfSwgaGVhZGVycz1oZWFkLCBhbGxvd19ncmVlbmlyZWN0cz1UcnVlKS50ZXh0LCdodG1sLnBhcnNlcicpCgkJam8gPSBoby5maW5kKCdmb3JtJykKCQlkYXRhID0ge30KCQlsaW9uID0gWyduaCcsJ2phem9lc3QnLCdmYl9kdHNnJywnc3VibWl0W0NvbnRpbnVlXScsJ2NoZWNrcG9pbnRfZGF0YSddCgkJZm9yIGFuaiBpbiBqbygnaW5wdXQnKToKCQkJaWYgYW5qLmdldCgnbmFtZScpIGluIGxpb246CgkJCQlkYXRhLnVwZGF0ZSh7YW5qLmdldCgnbmFtZScpOmFuai5nZXQoJ3ZhbHVlJyl9KQoJCWtlbnQgPSBzb3Aoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScrc3RyKGpvWydhY3Rpb24nXSksIGRhdGE9ZGF0YSwgaGVhZGVycz1oZWFkKS50ZXh0LCdodG1sLnBhcnNlcicpCgkJcHJpbnQoJ1xyJXNbw5ddPiAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWRmLHB3LHgpKQoJCW9wZW4oJ0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCWNwKz0xCgkJb3BzaSA9IGtlbnQuZmluZF9hbGwoJ29wdGlvbicpCgkJaWYgbGVuKG9wc2kpPT0wOgoJCQlwcmludCgnXHIlcy0tLT4gVGFwIFllcyAvIEEyRiAoQ2VrIExvZ2luIERpIExpdGUvTWJhc2ljJXMpJyUoaGgseCkpCgkJZWxzZToKCQkJZm9yIG9wc2lpIGluIG9wc2k6CgkJCQlwcmludCgnXHIlcy0tLT4gJXMlcyclKGtrLG9wc2lpLnRleHQseCkpCglleGNlcHQgRXhjZXB0aW9uIGFzIGM6CgkJcHJpbnQoJ1xyJXM+Pj4gJXMgIHwgICVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZGYscHcseCkpCgkJcHJpbnQoJ1xyJXPZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmAJXMnJSh1LHgpKQoJCW9wZW4oJ0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCWNwKz0xCgojIE9QU0kgQ0VLRVIKZGVmIGNla19vcHNpKCk6CgljID0gbGVuKGFrdW4pCglodSA9ICdUZXJkYXBhdCAlcyBBa3VuIFVudHVrIERpY2VrXG5TZWJlbHVtIE11bGFpLCBNb2RlIFBlc2F3YXQvVWJhaCBLYXJ0dSBTaW0gVGVybGViaWggRGFodWx1JyUoYykKCWNldGFrKG5lbChodSwgdGl0bGU9J0NFSyBPUFNJJykpCglpbnB1dCh4KydbJytoKyfigKInK3grJ10gTXVsYWknKQoJY2VrID0gJyMgUFJPU0VTIENFSyBPUFNJIERJTVVMQUknCglzb2woKS5wcmludChtYXJrKGNlaywgc3R5bGU9J2dyZWVuJykpCglsb3ZlID0gMAoJZm9yIGtlcyBpbiBha3VuOgoJCXRyeToKCQkJdHJ5OgoJCQkJaWQscHcgPSBrZXMuc3BsaXQoJ3wnKVswXSxrZXMuc3BsaXQoJ3wnKVsxXQoJCQlleGNlcHQgSW5kZXhFcnJvcjoKCQkJCXRpbWUuc2xlZXAoMikKCQkJCXByaW50KCdcciVzKysrKyAlcyAtLS0tPiBFcnJvciAgICAgICVzJyUoYixrZXMseCkpCgkJCQlwcmludCgnXHIlcy0tLT4gUGVtaXNhaCBUaWRhayBEaWR1a3VuZyBVbnR1ayBQcm9ncmFtIEluaSVzJyUodSx4KSkKCQkJCWNvbnRpbnVlCgkJCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pCgkJCXByaW50KCdcciVzLS0tPiAlcy8lcyAtLS0+IHsgJXMgfSVzJyUoYmksbG92ZSxsZW4oYWt1biksaWQseCksIGVuZD0nICcpO3N5cy5zdGRvdXQuZmx1c2goKQoJCQl1YSA9ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTE7IFRFQ05PIEtEOCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1NS4xMDEgTW9iaWxlIFNhZmFyaS81MzcuMzYnCgkJCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJCQloZWFkZXIgPSB7Ikhvc3QiOiAibWJhc2ljLmZhY2Vib29rLmNvbSIsImNhY2hlLWNvbnRyb2wiOiAibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6ICIxIiwib3JpZ2luIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIsImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50IjogdWEsImFjY2VwdCI6ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwieC1yZXF1ZXN0ZWQtd2l0aCI6ICJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjogInNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiAibmF2aWdhdGUiLCJzZWMtZmV0Y2gtdXNlciI6ICI/MSIsInNlYy1mZXRjaC1kZXN0IjogImRvY3VtZW50IiwicmVmZXJlciI6ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vP25leHQmcmVmPWRibCZmbCZyZWZpZD04IiwiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUiLCJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcifQoJCQloaSA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpCgkJCWhvID0gc29wKHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YT17J2VtYWlsJzppZCwncGFzcyc6cHcsJ2xvZ2luJzonc3VibWl0J30sIGhlYWRlcnM9aGVhZGVyLCBhbGxvd19ncmVlbmlyZWN0cz1UcnVlKS50ZXh0LCdodG1sLnBhcnNlcicpCgkJCWlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXRyeToKCQkJCQlqbyA9IGhvLmZpbmQoJ2Zvcm0nKQoJCQkJCWRhdGEgPSB7fQoJCQkJCWxpb24gPSBbJ25oJywnamF6b2VzdCcsJ2ZiX2R0c2cnLCdzdWJtaXRbQ29udGludWVdJywnY2hlY2twb2ludF9kYXRhJ10KCQkJCQlmb3IgYW5qIGluIGpvKCdpbnB1dCcpOgoJCQkJCQlpZiBhbmouZ2V0KCduYW1lJykgaW4gbGlvbjoKCQkJCQkJCWRhdGEudXBkYXRlKHthbmouZ2V0KCduYW1lJyk6YW5qLmdldCgndmFsdWUnKX0pCgkJCQkJa2VudCA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJytzdHIoam9bJ2FjdGlvbiddKSwgZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWRlcikudGV4dCwnaHRtbC5wYXJzZXInKQoJCQkJCXByaW50KCdcciVzW8O3XT4gJXMgIHwgICVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZCxwdyx4KSkKCQkJCQlvcHNpID0ga2VudC5maW5kX2FsbCgnb3B0aW9uJykKCQkJCQlpZiBsZW4ob3BzaSk9PTA6CgkJCQkJCXByaW50KCdcciVzLS0tPiBUYXAgWWVzIC8gQTJGIChDZWsgTG9naW4gRGkgTGl0ZS9NYmFzaWMlcyknJShoaCx4KSkKCQkJCQllbHNlOgoJCQkJCQlmb3Igb3BzaWkgaW4gb3BzaToKCQkJCQkJCXByaW50KCdcciVzLS0tPiAlcyVzJyUoa2ssb3BzaWkudGV4dCx4KSkKCQkJCWV4Y2VwdDoKCQkJCQlwcmludCgnXHIlcysrKysgJXMgIHwgICVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZCxwdyx4KSkKCQkJCQlwcmludCgnXHIlcy0tLT4gVGlkYWsgRGFwYXQgTWVuZ2VjZWsgT3BzaSVzJyUodSx4KSkKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXByaW50KCdcciVzKysrKyAlcyAgfCAgJXMgLS0tLT4gT0sgICAgICAgJXMnJShoLGlkLHB3LHgpKQoJCQllbHNlOgoJCQkJcHJpbnQoJ1xyJXMrKysrICVzICB8ICAlcyAtLS0tPiBTQUxBSCAgICAgICAlcyclKHgsaWQscHcseCkpCgkJCWxvdmUrPTEKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCXByaW50KCcnKQoJCQlsaSA9ICcjIEtPTkVLU0kgSU5URVJORVQgQkVSTUFTQUxBSCwgUEVSSUtTQSAmIENPQkEgTEFHSScKCQkJc29sKCkucHJpbnQobWFyayhsaSwgc3R5bGU9J2dyZWVuJykpCgkJCWV4aXQoKQoJZGFoID0gJyMgRE9ORScKCXNvbCgpLnByaW50KG1hcmsoZGFoLCBzdHlsZT0nZ3JlZW4nKSkKCWV4aXQoKQoKaWYgX19uYW1lX189PSdfX21haW5fXyc6Cgl0cnk6b3MubWtkaXIoJy9zZGNhcmQvNE1CRi1EQVRBL0NQJykKCWV4Y2VwdDpwYXNzCgl0cnk6b3MubWtkaXIoJy9zZGNhcmQvNE1CRi1EQVRBL09LJykKCWV4Y2VwdDpwYXNzCgl0cnk6b3MubWtkaXIoJy9zZGNhcmQvNE1CRi1EQVRBL0RVTVAnKQoJZXhjZXB0OnBhc3MKCWxvZ2luKCk="))
